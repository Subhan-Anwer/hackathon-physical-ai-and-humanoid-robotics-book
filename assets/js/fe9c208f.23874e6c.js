"use strict";(globalThis.webpackChunksite=globalThis.webpackChunksite||[]).push([[5108],{4376(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"module-1-ros2/labs/lab-1-installation-and-pubsub","title":"Lab 1: Installation and Basic Publisher/Subscriber","description":"Overview","source":"@site/docs/module-1-ros2/labs/lab-1-installation-and-pubsub.md","sourceDirName":"module-1-ros2/labs","slug":"/module-1-ros2/labs/lab-1-installation-and-pubsub","permalink":"/hackathon-physical-ai-and-humanoid-robotics-book/docs/module-1-ros2/labs/lab-1-installation-and-pubsub","draft":false,"unlisted":false,"editUrl":"https://github.com/subhan-anwer/hackathon-physical-ai-and-humanoid-robotics-book/docs/module-1-ros2/labs/lab-1-installation-and-pubsub.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Lab 1: Installation and Basic Publisher/Subscriber","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 3: Advanced ROS 2 Concepts","permalink":"/hackathon-physical-ai-and-humanoid-robotics-book/docs/module-1-ros2/chapter-3"},"next":{"title":"Lab 2: Custom Messages and Services","permalink":"/hackathon-physical-ai-and-humanoid-robotics-book/docs/module-1-ros2/labs/lab-2-custom-messages-and-services"}}');var a=s(4848),r=s(8453);const t={title:"Lab 1: Installation and Basic Publisher/Subscriber",sidebar_position:1},l="Lab 1: Installation and Basic Publisher/Subscriber",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installing ROS 2",id:"installing-ros-2",level:2},{value:"Creating Your First Package",id:"creating-your-first-package",level:2},{value:"Basic Publisher Implementation",id:"basic-publisher-implementation",level:2},{value:"Basic Subscriber Implementation",id:"basic-subscriber-implementation",level:2},{value:"Package Configuration",id:"package-configuration",level:2},{value:"Building and Running",id:"building-and-running",level:2},{value:"Lab Exercise",id:"lab-exercise",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"lab-1-installation-and-basic-publishersubscriber",children:"Lab 1: Installation and Basic Publisher/Subscriber"})}),"\n",(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsx)(n.p,{children:"In this lab, you'll install ROS 2, create your first ROS 2 package, and implement a basic publisher-subscriber system. This foundational lab will help you understand the basic communication patterns in ROS 2."}),"\n",(0,a.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsx)(n.p,{children:"Before starting this lab, ensure you have:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ubuntu 22.04 (Jammy) or equivalent Linux distribution"}),"\n",(0,a.jsx)(n.li,{children:"Administrative access to install software"}),"\n",(0,a.jsx)(n.li,{children:"Basic Python programming knowledge"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"installing-ros-2",children:"Installing ROS 2"}),"\n",(0,a.jsx)(n.p,{children:"First, add the ROS 2 repository and install the desktop version:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# Add the ROS 2 GPG key\nsudo apt update && sudo apt install curl gnupg lsb-release\ncurl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key | sudo gpg --dearmor -o /usr/share/keyrings/ros-archive-keyring.gpg\n\n# Add the repository to your sources list\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(source /etc/os-release && echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/ros2.list > /dev/null\n\n# Update package lists and install ROS 2\nsudo apt update\nsudo apt install ros-humble-desktop\n'})}),"\n",(0,a.jsx)(n.p,{children:"Set up your environment:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# Source the ROS 2 setup script\nsource /opt/ros/humble/setup.bash\n\n# Add to your bashrc to make it permanent\necho "source /opt/ros/humble/setup.bash" >> ~/.bashrc\n'})}),"\n",(0,a.jsx)(n.h2,{id:"creating-your-first-package",children:"Creating Your First Package"}),"\n",(0,a.jsx)(n.p,{children:"Create a workspace and your first package:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Create workspace directory\nmkdir -p ~/ros2_ws/src\ncd ~/ros2_ws\n\n# Create a new package\nros2 pkg create --build-type ament_python my_robot_package\ncd ~/ros2_ws/src/my_robot_package\n"})}),"\n",(0,a.jsx)(n.h2,{id:"basic-publisher-implementation",children:"Basic Publisher Implementation"}),"\n",(0,a.jsxs)(n.p,{children:["Create the publisher node in ",(0,a.jsx)(n.code,{children:"my_robot_package/my_robot_package/publisher_member_function.py"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\n\nclass MinimalPublisher(Node):\n\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello World: %d' % self.i\n        self.publisher_.publish(msg)\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\n        self.i += 1\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n\n    minimal_publisher = MinimalPublisher()\n\n    rclpy.spin(minimal_publisher)\n\n    # Destroy the node explicitly\n    minimal_publisher.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,a.jsx)(n.h2,{id:"basic-subscriber-implementation",children:"Basic Subscriber Implementation"}),"\n",(0,a.jsxs)(n.p,{children:["Create the subscriber node in ",(0,a.jsx)(n.code,{children:"my_robot_package/my_robot_package/subscriber_member_function.py"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\n\nclass MinimalSubscriber(Node):\n\n    def __init__(self):\n        super().__init__('minimal_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'topic',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info('I heard: \"%s\"' % msg.data)\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n\n    minimal_subscriber = MinimalSubscriber()\n\n    rclpy.spin(minimal_subscriber)\n\n    # Destroy the node explicitly\n    minimal_subscriber.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,a.jsx)(n.h2,{id:"package-configuration",children:"Package Configuration"}),"\n",(0,a.jsxs)(n.p,{children:["Update ",(0,a.jsx)(n.code,{children:"setup.py"})," to make your nodes executable:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from setuptools import find_packages, setup\n\npackage_name = 'my_robot_package'\n\nsetup(\n    name=package_name,\n    version='0.0.0',\n    packages=find_packages(exclude=['test']),\n    data_files=[\n        ('share/ament_index/resource_index/packages',\n            ['resource/' + package_name]),\n        ('share/' + package_name, ['package.xml']),\n    ],\n    install_requires=['setuptools'],\n    zip_safe=True,\n    maintainer='Your Name',\n    maintainer_email='your.email@example.com',\n    description='Basic publisher and subscriber example',\n    license='Apache-2.0',\n    tests_require=['pytest'],\n    entry_points={\n        'console_scripts': [\n            'talker = my_robot_package.publisher_member_function:main',\n            'listener = my_robot_package.subscriber_member_function:main',\n        ],\n    },\n)\n"})}),"\n",(0,a.jsx)(n.h2,{id:"building-and-running",children:"Building and Running"}),"\n",(0,a.jsx)(n.p,{children:"Build your package:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws\ncolcon build --packages-select my_robot_package\nsource install/setup.bash\n"})}),"\n",(0,a.jsx)(n.p,{children:"Run the publisher and subscriber in separate terminals:"}),"\n",(0,a.jsx)(n.p,{children:"Terminal 1:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 run my_robot_package talker\n"})}),"\n",(0,a.jsx)(n.p,{children:"Terminal 2:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 run my_robot_package listener\n"})}),"\n",(0,a.jsx)(n.p,{children:"You should see the publisher sending messages and the subscriber receiving them."}),"\n",(0,a.jsx)(n.h2,{id:"lab-exercise",children:"Lab Exercise"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Modify the publisher to send different types of messages (e.g., include timestamps or robot status)"}),"\n",(0,a.jsx)(n.li,{children:"Create multiple subscribers to the same topic and observe the behavior"}),"\n",(0,a.jsx)(n.li,{children:"Experiment with different QoS settings (reliability, history) and observe the effects"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsx)(n.p,{children:"In this lab, you've successfully installed ROS 2, created your first package, and implemented a basic publisher-subscriber system. You now understand the fundamental communication pattern in ROS 2 and have a working development environment."})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>t,x:()=>l});var i=s(6540);const a={},r=i.createContext(a);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);